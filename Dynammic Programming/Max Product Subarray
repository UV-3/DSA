int Solution::maxProduct(const vector<int> &A) {
    int n=A.size();
    int ans=A[0];
    vector<int>dp1(n),dp2(n);
    dp1[0]=dp2[0]=A[0];
    for(int i=1;i<n;i++){
        dp1[i]= max( A[i],max( dp1[i-1]*A[i] , dp2[i-1]*A[i] ) );
        dp2[i]= min( A[i],min( dp1[i-1]*A[i] , dp2[i-1]*A[i] ) );
        ans=max(ans,max(dp1[i],dp2[i]));
    }
    return ans;
}
